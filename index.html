<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Musa Soko - Video Editor & Motion Designer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --bg-color: #0a0a0a;
        --text-color: #e0e0e0;
        --card-bg: rgba(20, 20, 20, 0.95);
        --header-bg: #000;
        --button-bg: #4a86e8;
        --accent-color: #4a86e8;
        --transition: all 0.3s ease;
        --nav-color: #151522;
      }

      body {
        font-family: "Roboto", sans-serif;
        background: var(--bg-color);
        color: var(--text-color);
        line-height: 1.6;
        overflow-x: hidden;
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent;
      }

      html {
        scroll-behavior: smooth;
      }

      /* Particle Canvas */
      #particle-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
      }

      /* Navigation */
      .navbar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: var(--nav-color);
        z-index: 1000;
        padding: 1rem 0;
        transition: var(--transition);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .navbar.hidden {
        transform: translateY(-100%);
      }

      .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 2rem;
      }

      .nav-logo {
        font-family: "Montserrat", sans-serif;
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--accent-color);
        text-decoration: none;
      }

      .nav-menu {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
        gap: 2rem;
      }

      .nav-link {
        color: var(--text-color);
        text-decoration: none;
        font-size: 1rem;
        transition: var(--transition);
        position: relative;
        font-weight: 500;
      }

      .nav-link:hover {
        color: var(--accent-color);
      }

      .nav-link::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--accent-color);
        transition: var(--transition);
      }

      .nav-link:hover::after {
        width: 100%;
      }

      .mobile-menu-toggle {
        display: none;
        background: none;
        border: none;
        color: var(--text-color);
        font-size: 1.5rem;
        cursor: pointer;
        z-index: 1001;
        padding: 0.5rem;
      }

      .nav-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 998;
      }

      /* Header */
      header {
        background: var(--header-bg);
        color: var(--text-color);
        padding: 8rem 2rem 4rem;
        text-align: left;
        position: relative;
        z-index: 10;
        min-height: 60vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        padding-left: 4rem;
      }

      header h1 {
        margin: 0;
        font-size: 4rem;
        animation: fadeInUp 1s ease;
        font-family: "Montserrat", sans-serif;
      }

      header p {
        margin: 0rem 0 4rem;
        font-size: 1.5rem;
        color: #aaa;
        max-width: 600px;
        animation: fadeInUp 1s ease 0.2s forwards;
        opacity: 0;
      }

      .header-cta {
        animation: fadeInUp 1s ease 0.4s forwards;
        opacity: 0;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Sections */
      section {
        padding: 5rem 2rem;
        max-width: 1200px;
        margin: auto;
        position: relative;
        z-index: 10;
      }

      section h2 {
        text-align: center;
        margin-bottom: 3rem;
        font-size: 2.5rem;
        position: relative;
        display: inline-block;
        left: 50%;
        transform: translateX(-50%);
        font-family: "Montserrat", sans-serif;
      }

      section h2::after {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 4px;
        background: var(--accent-color);
        border-radius: 2px;
      }

      /* Video containers */
      .video-container {
        display: flex;
        justify-content: center;
        margin-bottom: 2rem;
        border-radius: 12px;
        overflow: visible;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        transition: var(--transition);
        border: 2px solid transparent;
        position: relative;
        width: 100%;
        max-width: 900px;
        margin-left: auto;
        margin-right: auto;
      }

      .video-container:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3),
          0 0 0 2px rgba(74, 134, 232, 0.3), 0 0 20px rgba(74, 134, 232, 0.5);
      }

      .video-wrapper {
        width: 100%;
        border-radius: 12px;
        overflow: hidden;
        position: relative;
      }

      .video-container iframe {
        width: 100%;
        max-width: 900px;
        aspect-ratio: 16/9;
        border: none;
        border-radius: 12px;
        display: block;
      }

      /* Projects section */
      .project-filters {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .filter-btn {
        padding: 0.5rem 1.5rem;
        background: transparent;
        color: var(--text-color);
        border: 2px solid var(--accent-color);
        border-radius: 50px;
        cursor: pointer;
        transition: var(--transition);
      }

      .filter-btn:hover,
      .filter-btn.active {
        background: var(--accent-color);
        color: white;
      }

      .projects {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 2.5rem;
        margin-top: 2rem;
        align-items: start;
      }

      .project {
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: var(--transition);
        border: 1px solid rgba(10, 10, 10, 0.1);
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.6s ease forwards;
      }

      .project:nth-child(1) {
        animation-delay: 0.1s;
      }
      .project:nth-child(2) {
        animation-delay: 0.2s;
      }
      .project:nth-child(3) {
        animation-delay: 0.3s;
      }
      .project:nth-child(4) {
        animation-delay: 0.4s;
      }

      .project:hover {
        transform: translateY(-10px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15),
          0 0 15px rgba(0, 136, 255, 0.4);
      }

      .project-video {
        width: 100%;
        height: 250px;
        background: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        cursor: pointer;
        transition: var(--transition);
        border-bottom: 3px solid var(--accent-color);
      }

      .project-video:hover {
        box-shadow: 0 0 20px rgba(0, 136, 255, 0.6);
      }

      .ribbon-overlay {
        position: absolute;
        top: -100%;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.7;
        z-index: 2;
        transition: top 0.5s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }

      .project-video:hover .ribbon-overlay {
        top: 0;
      }

      .project-video::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.3);
        opacity: 0;
        transition: var(--transition);
        z-index: 1;
      }

      .project-video:hover::before {
        opacity: 1;
      }

      .project-video::after {
        content: "â–¶";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 3rem;
        color: white;
        opacity: 0;
        transition: var(--transition);
        z-index: 3;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
      }

      .project-video:hover::after {
        opacity: 0.8;
      }

      .video-placeholder {
        color: white;
        text-align: center;
        font-size: 1.1rem;
        padding: 1rem;
        background: rgba(0, 91, 133, 0.7);
        border-radius: 8px;
        z-index: 1;
      }

      .project-video video,
      .project-video iframe {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border: none;
        transition: var(--transition);
      }

      .project.portrait-layout,
      .project.square-layout {
        max-width: 400px;
        justify-self: center;
        transition: all 0.5s ease;
      }

      .project.landscape-layout {
        max-width: none;
        justify-self: stretch;
        transition: all 0.5s ease;
      }

      .project-video.loading::after {
        content: "Loading...";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 1rem;
        z-index: 5;
        opacity: 1;
      }

      .project-video.playing .ribbon-overlay,
      .project-video.playing::before,
      .project-video.playing::after {
        display: none !important;
      }

      .project-video.playing .video-placeholder,
      .project-video.playing .thumbnail-container {
        display: none !important;
      }

      .project-video.portrait-mode {
        background: #000;
        border-radius: 8px;
        max-width: 400px;
        aspect-ratio: 9 / 16;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .project-video.portrait-mode iframe,
      .project-video.portrait-mode video {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 8px;
      }

      .project-video.landscape-mode {
        background: #000;
        border-radius: 8px;
      }

      .project-video.landscape-mode iframe,
      .project-video.landscape-mode video {
        object-fit: cover !important;
        border-radius: 8px;
      }

      .project-video.square-mode {
        background: #000;
        border-radius: 8px;
        height: 350px;
        width: 350px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .project-video.square-mode iframe,
      .project-video.square-mode video {
        object-fit: contain !important;
        border-radius: 8px;
        width: 100% !important;
        height: 100% !important;
      }

      .thumbnail-container {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        top: 0;
        left: 0;
        overflow: hidden;
      }

      .video-thumbnail {
        max-width: 130%;
        max-height: 130%;
        width: auto;
        height: auto;
        object-fit: contain;
      }

      .project-video.playing video {
        display: block;
      }

      .project-info {
        padding: 1.5rem;
      }

      .project-info h3 {
        margin: 0 0 0.5rem 0;
        font-size: 1.3rem;
        color: var(--text-color);
      }

      .project-info .project-type {
        color: var(--accent-color);
        font-size: 0.9rem;
        margin-bottom: 1rem;
        font-weight: 600;
        display: inline-block;
        padding: 0.3rem 0.8rem;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
      }

      .project-info p {
        margin: 0;
        color: #ccc;
        line-height: 1.5;
      }

      a.button {
        display: inline-block;
        padding: 0.8rem 1.5rem;
        background: var(--button-bg);
        color: white;
        text-decoration: none;
        border-radius: 50px;
        margin-top: 1rem;
        transition: var(--transition);
        border: 2px solid transparent;
      }

      a.button:hover {
        background: transparent;
        border-color: var(--button-bg);
        color: white;
      }

      .skills-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
      }

      .skill-category {
        background: var(--card-bg);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .skill-category h3 {
        margin-top: 0;
        color: var(--accent-color);
        text-align: center;
      }

      .skill-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        justify-content: center;
      }

      .skill-tag {
        padding: 0.4rem 0.8rem;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50px;
        font-size: 0.9rem;
      }

      footer {
        text-align: center;
        padding: 3rem 2rem;
        background: var(--header-bg);
        color: #aaa;
        margin-top: 3rem;
      }

      .social-links {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin: 1.5rem 0;
      }

      .social-link {
        color: #aaa;
        font-size: 1.5rem;
        transition: var(--transition);
        text-decoration: none;
      }

      .social-link:hover {
        color: var(--accent-color);
        transform: translateY(-3px);
      }

      /* ============================================= */
      /* MOBILE-ONLY STYLES (Applied only below 768px) */
      /* ============================================= */
      @media (max-width: 768px) {
        body {
          font-size: 16px;
          -webkit-text-size-adjust: 100%;
        }

        /* Enhanced Navigation - Mobile Only */
        .navbar {
          padding: 0.8rem 0;
          backdrop-filter: blur(10px);
        }

        .nav-container {
          padding: 0 1rem;
          position: relative;
        }

        .nav-logo {
          font-size: 1.4rem;
          z-index: 1001;
        }

        .nav-menu {
          position: fixed;
          top: 0;
          right: -100%;
          width: 80%;
          max-width: 300px;
          height: 100vh;
          background: var(--nav-color);
          flex-direction: column;
          justify-content: flex-start;
          align-items: flex-start;
          padding: 5rem 2rem 2rem;
          gap: 0;
          transition: right 0.3s ease;
          box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
          z-index: 999;
        }

        .nav-menu.active {
          right: 0;
        }

        .nav-menu li {
          width: 100%;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-menu li:last-child {
          border-bottom: none;
        }

        .nav-link {
          display: block;
          padding: 1.2rem 0;
          font-size: 1.1rem;
          width: 100%;
          min-height: 44px;
          display: flex;
          align-items: center;
        }

        .mobile-menu-toggle {
          display: block;
          min-width: 44px;
          min-height: 44px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .mobile-menu-toggle.active {
          color: var(--accent-color);
        }

        .nav-overlay.active {
          display: block;
        }

        /* Improved Header - Mobile Only */
        header {
          padding: 7rem 1.5rem 3rem;
          min-height: 70vh;
          padding-left: 1.5rem;
          text-align: center;
          align-items: center;
        }

        header h1 {
          font-size: 2.8rem;
          text-align: center;
          margin-bottom: 1rem;
          line-height: 1.2;
        }

        header p {
          font-size: 1.3rem;
          text-align: center;
          margin: 0 0 2rem 0;
          max-width: 100%;
          line-height: 1.4;
        }

        .header-cta {
          width: 100%;
          display: flex;
          justify-content: center;
        }

        /* Improved Sections - Mobile Only */
        section {
          padding: 3rem 1rem;
        }

        section h2 {
          font-size: 2rem;
          margin-bottom: 2rem;
          line-height: 1.3;
        }

        /* Improved Projects - Mobile Only */
        .projects {
          grid-template-columns: 1fr;
          gap: 2rem;
        }

        .project {
          margin: 0 auto;
          max-width: 100%;
          transform: translateZ(0);
        }

        .project-video {
          height: 200px;
          -webkit-tap-highlight-color: rgba(74, 134, 232, 0.3);
        }

        .project-video.portrait-mode {
          height: 500px;
          max-width: 280px;
        }

        .project-video.square-mode {
          height: 300px;
          width: 300px;
        }

        .project-info {
          padding: 1.25rem;
        }

        .project-info h3 {
          font-size: 1.4rem;
          line-height: 1.3;
        }

        .project-info p {
          font-size: 1rem;
          line-height: 1.5;
        }

        /* Improved Skills - Mobile Only */
        .skills-container {
          grid-template-columns: 1fr;
          gap: 1.5rem;
        }

        .skill-category {
          padding: 1.25rem;
          transform: translateZ(0);
        }

        .skill-tag {
          padding: 0.7rem 1rem;
          font-size: 0.9rem;
          min-height: 44px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        /* Improved Video Containers - Mobile Only */
        .video-container {
          max-width: 100%;
          margin: 0 0 1.5rem 0;
          transform: translateZ(0);
        }

        .video-container iframe {
          max-width: 100%;
          height: 200px;
        }

        .video-placeholder {
          font-size: 1rem;
          padding: 1rem;
          line-height: 1.4;
        }

        /* Improved Buttons and Filters - Mobile Only */
        .project-filters {
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .filter-btn {
          padding: 0.8rem 1.2rem;
          font-size: 0.9rem;
          min-height: 44px;
          min-width: 60px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        a.button {
          padding: 1rem 2rem;
          font-size: 1.1rem;
          min-height: 52px;
          width: 100%;
          max-width: 280px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        /* Improved Footer - Mobile Only */
        footer {
          padding: 2.5rem 1.5rem;
        }

        .social-links {
          gap: 1rem;
        }

        .social-link {
          min-width: 50px;
          min-height: 50px;
          font-size: 1.4rem;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 0.5rem;
        }

        /* Mobile Performance Optimizations */
        #particle-canvas {
          display: none !important;
        }

        /* Prevent horizontal scroll */
        html,
        body {
          max-width: 100%;
          overflow-x: hidden;
        }

        /* Safe area insets for notch devices */
        @supports (padding: max(0px)) {
          .navbar,
          header,
          section,
          footer {
            padding-left: max(1rem, env(safe-area-inset-left));
            padding-right: max(1rem, env(safe-area-inset-right));
          }

          header {
            padding-top: max(7rem, env(safe-area-inset-top));
          }

          .navbar {
            padding-top: max(0.8rem, env(safe-area-inset-top));
          }
        }
      }

      /* Extra small mobile devices */
      @media (max-width: 480px) {
        header h1 {
          font-size: 2.2rem;
        }

        header p {
          font-size: 1.1rem;
        }

        section h2 {
          font-size: 1.8rem;
        }

        .project-video.portrait-mode {
          height: 450px;
          max-width: 250px;
        }

        .project-video.square-mode {
          height: 250px;
          width: 250px;
        }

        .nav-menu {
          width: 85%;
        }
      }
    </style>
  </head>
  <body>
    <div id="particle-canvas"></div>

    <nav class="navbar">
      <div class="nav-container">
        <a href="#" class="nav-logo">Musa Soko</a>
        <button
          class="mobile-menu-toggle"
          onclick="toggleMobileMenu()"
          aria-label="Toggle menu"
        >
          &#9776;
        </button>
        <ul class="nav-menu">
          <li>
            <a href="#showreel" class="nav-link" onclick="closeMobileMenu()"
              >Showreel</a
            >
          </li>
          <li>
            <a href="#projects" class="nav-link" onclick="closeMobileMenu()"
              >Projects</a
            >
          </li>
          <li>
            <a href="#skills" class="nav-link" onclick="closeMobileMenu()"
              >Skills</a
            >
          </li>
          <li>
            <a href="#about" class="nav-link" onclick="closeMobileMenu()"
              >About</a
            >
          </li>
          <li>
            <a href="#contact" class="nav-link" onclick="closeMobileMenu()"
              >Contact</a
            >
          </li>
        </ul>
      </div>
    </nav>
    <div class="nav-overlay" onclick="closeMobileMenu()"></div>

    <header>
      <h1>Hi I'm Musa Soko</h1>
      <p>a Video Editor and Motion Graphic Designer based in South Africa</p>
      <div class="header-cta">
        <a href="#projects" class="button">View My Work</a>
      </div>
    </header>

    <section id="showreel">
      <h2>Showreel</h2>
      <div class="video-container">
        <div class="video-wrapper">
          <iframe
            src="https://player.vimeo.com/video/1108056464"
            allowfullscreen
            loading="lazy"
          ></iframe>
        </div>
      </div>
    </section>

    <section id="highlight">
      <h2>Highlight Reel - Winedrops</h2>
      <div class="video-container">
        <div class="video-wrapper">
          <iframe
            src="https://player.vimeo.com/video/1109940880"
            allowfullscreen
            loading="lazy"
          ></iframe>
        </div>
      </div>
      <div class="video-placeholder">
        A focused edit showcasing my recent work with Winedrops, including ads,
        YouTube content, and social media videos.
      </div>
    </section>

    <section id="projects">
      <h2>Selected Projects</h2>

      <div class="project-filters">
        <button class="filter-btn active" data-filter="all">All</button>
      </div>

      <div class="projects">
        <div
          class="project"
          data-category="commercial"
          id="project-container-1"
        >
          <div
            class="project-video"
            data-video="https://vimeo.com/1114326040"
            data-aspect-ratio="landscape"
          >
            <div class="thumbnail-container">
              <img
                src="images/Realistic Strategist.jpg"
                class="video-thumbnail"
                alt="Video thumbnail"
                loading="lazy"
              />
            </div>
            <div
              class="ribbon-overlay"
              style="background: linear-gradient(135deg, #45b7d1, #6bd1e8)"
            ></div>
          </div>
          <div class="project-info">
            <h3>Website Info Video</h3>
            <p>
              A video created for Realistic Strategist's website Info section,
              showcasing their digital marketing brand with clean edits and
              smooth motion graphics to highlight key services.
            </p>
          </div>
        </div>

        <div class="project" data-category="social" id="project-container-2">
          <div
            class="project-video"
            data-video="https://vimeo.com/1114454162"
            data-aspect-ratio="landscape"
          >
            <div class="thumbnail-container">
              <img
                src="images/Youtube img.jpg"
                class="video-thumbnail"
                alt="Video thumbnail"
                loading="lazy"
              />
            </div>
            <div
              class="ribbon-overlay"
              style="background: linear-gradient(135deg, #f7dc6f, #f9e79f)"
            ></div>
          </div>
          <div class="project-info">
            <h3>YouTube Video Edit</h3>
            <p>
              Exploring whether boiling or freezing Sassicaia wine changes its
              taste.
            </p>
          </div>
        </div>

        <div class="project" data-category="youtube" id="project-container-3">
          <div
            class="project-video"
            data-video="https://vimeo.com/1121611979"
            data-aspect-ratio="portrait"
          >
            <div class="thumbnail-container">
              <img
                src="images/Strive Content.jpg"
                class="video-thumbnail"
                alt="Video thumbnail"
                loading="lazy"
              />
            </div>
            <div
              class="ribbon-overlay"
              style="background: linear-gradient(135deg, #ff0000, #d1e6ff)"
            ></div>
          </div>
          <div class="project-info">
            <h3>Social Media Content</h3>
            <p>
              Produced motion graphics explainer to educate audiences on email
              technology.
            </p>
          </div>
        </div>

        <div class="project" data-category="motion" id="project-container-4">
          <div
            class="project-video"
            data-video="https://vimeo.com/900842265"
            data-aspect-ratio="portrait"
          >
            <div class="thumbnail-container">
              <img
                src="images/Mortica.jpg"
                class="video-thumbnail"
                alt="Video thumbnail"
                loading="lazy"
              />
            </div>
            <div
              class="ribbon-overlay"
              style="background: linear-gradient(135deg, #d6a458, #e082ae)"
            ></div>
          </div>
          <div class="project-info">
            <h3>Personal Project</h3>
            <p>
              This was a collaborative personal project with a musician friend
              after finishing our studies. He composed the music while I
              designed the visuals.
            </p>
          </div>
        </div>

        <div class="project" data-category="social" id="project-container-5">
          <div
            class="project-video"
            data-video="https://vimeo.com/1114326897?share=copy"
            data-aspect-ratio="square"
          >
            <div class="thumbnail-container">
              <img
                src="images/sales source.jpg"
                class="video-thumbnail"
                alt="Video thumbnail"
                loading="lazy"
              />
            </div>
            <div
              class="ribbon-overlay"
              style="background: linear-gradient(135deg, #3f3ce7, #ac12f3)"
            ></div>
          </div>
          <div class="project-info">
            <h3>Social Media Ad</h3>
            <p>A spec project for SalesSource, a digital marketing brand.</p>
          </div>
        </div>

        <div class="project" data-category="youtube" id="project-container-6">
          <div
            class="project-video"
            data-video="https://vimeo.com/1114453751"
            data-aspect-ratio="portrait"
          >
            <div class="thumbnail-container">
              <img
                src="images/Short ad.jpg"
                class="video-thumbnail"
                alt="Video thumbnail"
                loading="lazy"
              />
            </div>
            <div
              class="ribbon-overlay"
              style="background: linear-gradient(135deg, #10a0ff, #bde2e2)"
            ></div>
          </div>
          <div class="project-info">
            <h3>Social Media Ad</h3>
            <p>
              A short social media ad for Winedrops showcasing their wine
              delivery and digital services.
            </p>
          </div>
        </div>

        <div class="project" data-category="youtube" id="project-container-7">
          <div
            class="project-video"
            data-video="https://vimeo.com/1121503730"
            data-aspect-ratio="portrait"
          >
            <div class="thumbnail-container">
              <img
                src="images/Strivetech.jpg"
                class="video-thumbnail"
                alt="Video thumbnail"
                loading="lazy"
              />
            </div>
            <div
              class="ribbon-overlay"
              style="background: linear-gradient(135deg, #ff104c, #e2c4bd)"
            ></div>
          </div>
          <div class="project-info">
            <h3>Brand Identity</h3>
            <p>
              Developed motion style, color palette, and visual identity
              concepts for StriveTech's brand.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="skills">
      <h2>Skills & Software</h2>
      <div class="skills-container">
        <div class="skill-category">
          <h3>Editing</h3>
          <div class="skill-list">
            <span class="skill-tag">Adobe Premiere Pro</span>
            <span class="skill-tag">Color Grading</span>
            <span class="skill-tag">Audio Editing</span>
          </div>
        </div>

        <div class="skill-category">
          <h3>Motion Graphics</h3>
          <div class="skill-list">
            <span class="skill-tag">After Effects</span>
            <span class="skill-tag">Blender</span>
            <span class="skill-tag">2D Animation</span>
            <span class="skill-tag">3D Animation</span>
          </div>
        </div>

        <div class="skill-category">
          <h3>Other</h3>
          <div class="skill-list">
            <span class="skill-tag">Visual Effects</span>
            <span class="skill-tag">Storyboarding</span>
            <span class="skill-tag">Sound Design</span>
            <span class="skill-tag">Photoshop</span>
          </div>
        </div>
      </div>
    </section>

    <section id="about">
      <h2>About Me</h2>
      <p
        style="
          text-align: center;
          max-width: 700px;
          margin: auto;
          line-height: 1.6;
        "
      >
        Hi! I'm a video editor and motion designer. I make videos that feel fun
        to watch, whether it's for ads, social posts, or longer stories. I like
        experimenting with styles and motion to find what fits best. Outside of
        editing, I'm always curious about art, and animation.
      </p>
    </section>

    <section id="contact">
      <h2>Get In Touch</h2>
      <p
        style="
          text-align: center;
          max-width: 700px;
          margin: auto;
          line-height: 1.6;
        "
      >
        Interested in working together? Have a project in mind? Feel free to
        reach out and let's create something amazing.
      </p>
      <div style="text-align: center; margin-top: 2rem">
        <a href="mailto:musasoko19@gmail.com" class="button">Send an Email</a>
      </div>
      <p
        style="
          font-size: large;
          text-align: center;
          margin: 1rem;
          color: #00aeff;
        "
      >
        musasoko19@gmail.com
      </p>
    </section>

    <footer>
      <div class="social-links">
        <a
          href="https://www.instagram.com/grandmama_patrick/"
          class="social-link"
          aria-label="Instagram"
          ><i class="fab fa-instagram"></i
        ></a>
        <a href="#" class="social-link" aria-label="Vimeo"
          ><i class="fab fa-vimeo-v"></i
        ></a>
        <a href="#" class="social-link" aria-label="YouTube"
          ><i class="fab fa-youtube"></i
        ></a>
        <a href="#" class="social-link" aria-label="LinkedIn"
          ><i class="fab fa-linkedin-in"></i
        ></a>
      </div>
      <p>Musa Soko. "I make frames move".</p>
    </footer>

    <script>
      // Mobile menu functionality - Only affects mobile
      function toggleMobileMenu() {
        const menu = document.querySelector(".nav-menu");
        const overlay = document.querySelector(".nav-overlay");
        const toggle = document.querySelector(".mobile-menu-toggle");

        menu.classList.toggle("active");
        overlay.classList.toggle("active");
        toggle.classList.toggle("active");

        // Prevent body scroll when menu is open on mobile
        if (window.innerWidth <= 768) {
          document.body.style.overflow = menu.classList.contains("active")
            ? "hidden"
            : "";
        }
      }

      function closeMobileMenu() {
        const menu = document.querySelector(".nav-menu");
        const overlay = document.querySelector(".nav-overlay");
        const toggle = document.querySelector(".mobile-menu-toggle");

        menu.classList.remove("active");
        overlay.classList.remove("active");
        toggle.classList.remove("active");

        if (window.innerWidth <= 768) {
          document.body.style.overflow = "";
        }
      }

      // Close menu when clicking on overlay (mobile only)
      document
        .querySelector(".nav-overlay")
        .addEventListener("click", closeMobileMenu);

      // Close menu on escape key (mobile only)
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && window.innerWidth <= 768) {
          closeMobileMenu();
        }
      });

      // Improved touch handling for mobile
      document.addEventListener("touchstart", function () {}, {
        passive: true,
      });

      // Rest of your existing JavaScript code for particles and video handling...
      // This remains exactly the same as your original code
      // =============================================
      // PARTICLE SYSTEM CONFIGURATION
      // =============================================

      let particles = [];
      let containers = [];
      let hoveredContainer = null;

      // =============================================
      // PARTICLE DENSITY SETTING
      // Change this number to increase/decrease total particles on screen
      // Higher = more particles, Lower = fewer particles
      // =============================================
      const DENSITY = 1000;

      // =============================================
      // PARTICLE SIZE & SPEED SETTINGS
      // =============================================
      const CONFETTI_SCALE = 0.28; // Particle size multiplier (0.1 = tiny, 1.0 = large)
      const PARTICLE_SPEED = 0.1; // Base movement speed (0.1 = slow, 1.0 = fast)

      // =============================================
      // PARTICLE COLORS (R, G, B, Alpha)
      // Alpha: 0 = invisible, 255 = fully opaque
      // =============================================
      const NEUTRAL_COLOR = [150, 150, 150, 170]; // Floating particles (not attracted)
      const ATTRACT_COLOR = [255, 255, 255, 240]; // Particles being attracted to containers
      const STICKY_COLOR = [180, 220, 255, 255]; // Particles stuck to container edges
      const EMITTED_COLOR = [255, 215, 0, 230]; // Newly emitted particles from container edges

      let colors = {};
      let lastEmissionTime = 0;

      // =============================================
      // PARTICLE BEHAVIOR SETTINGS
      // =============================================
      const settings = {
        attractRadius: 96.0, // Distance from container where attraction starts (pixels)
        attractStrength: 1.2, // How strongly particles are pulled (0.1 = weak, 3.0 = strong)
        stickinessDistance: 1.6, // How close particles must be to stick to edges
        stickinessStrength: 0.6, // How strongly particles stick (0.1 = weak, 2.0 = strong)
        emissionRate: 4.0, // How many particles emit per second when hovering
        particleSpeed: 0.2, // Particle movement speed (same as PARTICLE_SPEED)
      };

      // =============================================
      // SHIMMER/FLICKER INTENSITY
      // Located in: applyStickiness() function
      // Look for: "const stickIntensity = map(this.stuckTimer, 0, 60, 0, 1);"
      // The number 60 controls how long it takes to reach full shimmer
      // Lower = faster shimmer, Higher = slower shimmer buildup
      // =============================================

      function isMobileDevice() {
        return window.innerWidth <= 768;
      }

      class Particle {
        constructor(isEmitted = false) {
          this.isEmitted = isEmitted;
          this.reset();
        }

        reset() {
          if (this.isEmitted) {
            this.spawnAtEdge();
            this.lifetime = 255; // Emitted particle lifespan (255 = longest, 0 = instant fade)
            this.color = colors.emitted;
          } else {
            do {
              this.x = random(width);
              this.y = random(height);
            } while (this.isNearAnyContainer(80));
            this.color = colors.neutral;
          }

          // =============================================
          // PARTICLE SIZE RANGE
          // random(min, max) - adjust these for different particle sizes
          // =============================================
          this.size = random(4, 11) * CONFETTI_SCALE;

          let angle = random(TWO_PI);
          this.baseSpeed = PARTICLE_SPEED * random(0.7, 1.2);
          this.baseDx = cos(angle) * this.baseSpeed;
          this.baseDy = sin(angle) * this.baseSpeed;
          this.dx = this.baseDx;
          this.dy = this.baseDy;

          // =============================================
          // PARTICLE ROTATION SPEED
          // random(min, max) - adjust for faster/slower spinning
          // =============================================
          this.angle = random(TWO_PI);
          this.rotSpeed = random(-0.03, 0.03);

          this.isAttracted = false;
          this.isStuck = false;
          this.stuckTimer = 0;
          this.floatOffsetX = random(1000);
          this.floatOffsetY = random(1000);
          this.targetContainer = null;
        }

        spawnAtEdge() {
          if (!hoveredContainer) return;

          const container = hoveredContainer;
          const left = container.x - container.w / 2;
          const right = container.x + container.w / 2;
          const top = container.y - container.h / 2;
          const bottom = container.y + container.h / 2;

          const edge = floor(random(4));
          switch (edge) {
            case 0:
              this.x = random(left, right);
              this.y = top;
              break;
            case 1:
              this.x = right;
              this.y = random(top, bottom);
              break;
            case 2:
              this.x = random(left, right);
              this.y = bottom;
              break;
            case 3:
              this.x = left;
              this.y = random(top, bottom);
              break;
          }

          const pushAngle = [PI, 0, -PI / 2, PI / 2][edge];
          const pushStrength = random(0.5, 1.5);
          this.dx += cos(pushAngle) * pushStrength;
          this.dy += sin(pushAngle) * pushStrength;
        }

        isNearAnyContainer(distance) {
          return containers.some(
            (container) =>
              dist(this.x, this.y, container.x, container.y) < distance
          );
        }

        isInAttractionZone(container) {
          const margin = settings.attractRadius;
          const left = container.x - container.w / 2 - margin;
          const right = container.x + container.w / 2 + margin;
          const top = container.y - container.h / 2 - margin;
          const bottom = container.y + container.h / 2 + margin;

          return (
            this.x > left && this.x < right && this.y > top && this.y < bottom
          );
        }

        isCloseToEdge(container) {
          const edgeDistance = map(
            settings.stickinessDistance,
            0.1,
            2.0,
            40,
            5
          );
          const left = container.x - container.w / 2;
          const right = container.x + container.w / 2;
          const top = container.y - container.h / 2;
          const bottom = container.y + container.h / 2;

          return (
            (this.x > left - edgeDistance && this.x < left + edgeDistance) ||
            (this.x > right - edgeDistance && this.x < right + edgeDistance) ||
            (this.y > top - edgeDistance && this.y < top + edgeDistance) ||
            (this.y > bottom - edgeDistance && this.y < bottom + edgeDistance)
          );
        }

        getClosestEdgePoint(container) {
          const left = container.x - container.w / 2;
          const right = container.x + container.w / 2;
          const top = container.y - container.h / 2;
          const bottom = container.y + container.h / 2;

          if (
            this.x >= left &&
            this.x <= right &&
            this.y >= top &&
            this.y <= bottom
          ) {
            const distToLeft = this.x - left;
            const distToRight = right - this.x;
            const distToTop = this.y - top;
            const distToBottom = bottom - this.y;
            const minDist = min(
              distToLeft,
              distToRight,
              distToTop,
              distToBottom
            );

            if (minDist === distToLeft) return { x: left, y: this.y };
            else if (minDist === distToRight) return { x: right, y: this.y };
            else if (minDist === distToTop) return { x: this.x, y: top };
            else return { x: this.x, y: bottom };
          }

          const nearestX = constrain(this.x, left, right);
          const nearestY = constrain(this.y, top, bottom);
          const distToLeft = abs(this.x - left);
          const distToRight = abs(this.x - right);
          const distToTop = abs(this.y - top);
          const distToBottom = abs(this.y - bottom);
          const minDist = min(distToLeft, distToRight, distToTop, distToBottom);

          if (minDist === distToLeft) return { x: left, y: nearestY };
          else if (minDist === distToRight) return { x: right, y: nearestY };
          else if (minDist === distToTop) return { x: nearestX, y: top };
          else return { x: nearestX, y: bottom };
        }

        update() {
          this.isAttracted = false;
          this.isStuck = false;
          this.targetContainer = null;

          if (hoveredContainer && this.isInAttractionZone(hoveredContainer)) {
            this.targetContainer = hoveredContainer;
            this.applyEdgeAttraction();
            this.isAttracted = true;

            if (this.isCloseToEdge(hoveredContainer)) {
              this.applyStickiness();
              this.isStuck = true;
              this.stuckTimer++;
            } else {
              this.stuckTimer = max(0, this.stuckTimer - 1);
            }
          } else {
            this.returnToNatural();
            this.stuckTimer = max(0, this.stuckTimer - 2);

            if (this.isEmitted) {
              // =============================================
              // EMITTED PARTICLE FADE SPEED
              // Higher number = faster fade, Lower = slower fade
              // =============================================
              this.lifetime -= 2;
              if (this.lifetime <= 0) this.lifetime = 0;
            }
          }

          this.x += this.dx;
          this.y += this.dy;
          this.angle += this.rotSpeed;

          if (!this.isEmitted) {
            if (this.x < 0) this.x = width;
            if (this.x > width) this.x = 0;
            if (this.y < 0) this.y = height;
            if (this.y > height) this.y = 0;
          }
        }

        applyEdgeAttraction() {
          if (!this.targetContainer) return;

          const attractStrength = settings.attractStrength * 0.08;
          const edgePoint = this.getClosestEdgePoint(this.targetContainer);
          const angleToEdge = atan2(edgePoint.y - this.y, edgePoint.x - this.x);

          this.dx += cos(angleToEdge) * attractStrength;
          this.dy += sin(angleToEdge) * attractStrength;
          this.dx = constrain(this.dx, -8, 8);
          this.dy = constrain(this.dy, -8, 8);

          if (this.isEmitted) {
            const brighten = map(settings.attractStrength, 0.3, 2.5, 0, 0.3);
            this.color = lerpColor(this.color, color(255, 255, 255), brighten);
          } else {
            this.color = lerpColor(this.color, colors.attract, 0.1);
          }
        }

        applyStickiness() {
          if (!this.targetContainer) return;

          const stickinessStrength = settings.stickinessStrength;
          const edgePoint = this.getClosestEdgePoint(this.targetContainer);
          const stickStrength = stickinessStrength * 0.15;
          const angleToEdge = atan2(edgePoint.y - this.y, edgePoint.x - this.x);

          this.dx += cos(angleToEdge) * stickStrength;
          this.dy += sin(angleToEdge) * stickStrength;

          const floatAmount = map(stickinessStrength, 0.1, 1.5, 0.5, 0.1);
          const floatX =
            sin(millis() * 0.002 + this.floatOffsetX) * floatAmount;
          const floatY =
            cos(millis() * 0.002 + this.floatOffsetY) * floatAmount;

          this.dx += floatX;
          this.dy += floatY;

          const damping = map(stickinessStrength, 0.1, 1.5, 0.92, 0.8);
          this.dx *= damping;
          this.dy *= damping;

          // =============================================
          // SHIMMER INTENSITY & BUILDUP SPEED
          // map(timer, 0, 60, ...) - the "60" controls buildup time
          // Lower = faster shimmer buildup, Higher = slower buildup
          // =============================================
          const stickIntensity = map(this.stuckTimer, 0, 10, 0, 1);

          if (this.isEmitted) {
            this.color = lerpColor(
              this.color,
              colors.sticky,
              stickIntensity * 0.5
            );
          } else {
            this.color = lerpColor(this.color, colors.sticky, stickIntensity);
          }
        }

        returnToNatural() {
          this.dx = lerp(this.dx, this.baseDx, 0.06);
          this.dy = lerp(this.dy, this.baseDy, 0.06);

          if (!this.isEmitted) {
            this.color = lerpColor(this.color, colors.neutral, 0.08);
          }
        }

        display() {
          push();
          translate(this.x, this.y);
          rotate(this.angle);

          if (this.isEmitted) {
            fill(
              red(this.color),
              green(this.color),
              blue(this.color),
              this.lifetime
            );
          } else {
            fill(this.color);
          }

          noStroke();
          rectMode(CENTER);
          rect(0, 0, this.size, this.size * 0.6, 2);
          pop();
        }
      }

      function setup() {
        if (isMobileDevice()) {
          console.log("Mobile device detected - particles disabled");
          return;
        }

        const canvas = createCanvas(windowWidth, windowHeight);
        canvas.parent("particle-canvas");

        colors.neutral = color(...NEUTRAL_COLOR);
        colors.attract = color(...ATTRACT_COLOR);
        colors.sticky = color(...STICKY_COLOR);
        colors.emitted = color(...EMITTED_COLOR);

        initializeContainers();

        particles = [];
        for (let i = 0; i < DENSITY; i++) {
          particles.push(new Particle(false));
        }

        setupHoverDetection();
      }

      function initializeContainers() {
        if (isMobileDevice()) return;

        const projectContainers = [
          "project-container-1",
          "project-container-2",
          "project-container-3",
          "project-container-4",
          "project-container-5",
          "project-container-6",
          "project-container-7",
        ];

        projectContainers.forEach((id) => {
          const element = document.getElementById(id);
          if (element) {
            const rect = element.getBoundingClientRect();
            containers.push({
              element: element,
              x: rect.left + rect.width / 2,
              y: rect.top + rect.height / 2,
              w: rect.width,
              h: rect.height,
              id: id,
            });
          }
        });
      }

      function setupHoverDetection() {
        if (isMobileDevice()) return;

        containers.forEach((container) => {
          container.element.addEventListener("mouseenter", () => {
            hoveredContainer = container;
          });

          container.element.addEventListener("mouseleave", () => {
            if (hoveredContainer && hoveredContainer.id === container.id) {
              hoveredContainer = null;
            }
          });
        });
      }

      function draw() {
        if (isMobileDevice()) return;

        // =============================================
        // CANVAS BACKGROUND COLOR (R, G, B, Alpha)
        // Change these values to change the background darkness
        // First 3 numbers: RGB color (0-255)
        // Last number: Transparency (0 = clear trail effect, 255 = solid)
        // Lower alpha = longer particle trails
        // =============================================
        background(10, 10, 10, 80);

        updateContainerPositions();

        if (hoveredContainer) {
          const currentTime = millis();
          if (
            currentTime - lastEmissionTime >
            1000 / (settings.emissionRate + 1)
          ) {
            for (let i = 0; i < settings.emissionRate; i++) {
              particles.push(new Particle(true));
            }
            lastEmissionTime = currentTime;
          }
        }

        for (let i = particles.length - 1; i >= 0; i--) {
          const p = particles[i];

          if (p.isEmitted && p.lifetime <= 0) {
            particles.splice(i, 1);
            continue;
          }

          p.update();
        }

        for (const p of particles) {
          p.display();
        }
      }

      function updateContainerPositions() {
        if (isMobileDevice()) return;

        containers.forEach((container) => {
          const rect = container.element.getBoundingClientRect();
          container.x = rect.left + rect.width / 2;
          container.y = rect.top + rect.height / 2;
          container.w = rect.width;
          container.h = rect.height;
        });
      }

      function windowResized() {
        if (isMobileDevice()) return;
        resizeCanvas(windowWidth, windowHeight);
      }

      // Keep your existing DOMContentLoaded code exactly as it was
      document.addEventListener("DOMContentLoaded", function () {
        const filterButtons = document.querySelectorAll(".filter-btn");
        const projects = document.querySelectorAll(".project");

        filterButtons.forEach((button) => {
          button.addEventListener("click", () => {
            filterButtons.forEach((btn) => btn.classList.remove("active"));
            button.classList.add("active");

            const filter = button.getAttribute("data-filter");

            projects.forEach((project) => {
              const category = project.getAttribute("data-category");
              if (filter === "all" || filter === category) {
                project.style.display = "block";
              } else {
                project.style.display = "none";
              }
            });
          });
        });

        const videoContainers = document.querySelectorAll(".project-video");

        videoContainers.forEach((container) => {
          container.addEventListener("click", function (e) {
            e.preventDefault();

            if (
              this.classList.contains("playing") ||
              this.classList.contains("loading")
            )
              return;

            const videoUrl = this.getAttribute("data-video");
            if (!videoUrl) return;

            this.classList.add("loading");
            const originalHeight = this.offsetHeight;

            if (
              videoUrl.includes("vimeo.com") ||
              videoUrl.includes("player.vimeo.com")
            ) {
              handleVimeoVideo(this, videoUrl, originalHeight);
            } else {
              handleDirectVideo(this, videoUrl, originalHeight);
            }
          });
        });

        function handleVimeoVideo(container, videoUrl, originalHeight) {
          const iframe = document.createElement("iframe");

          let embedUrl = videoUrl;
          if (
            videoUrl.includes("vimeo.com/") &&
            !videoUrl.includes("player.vimeo.com")
          ) {
            const videoId = videoUrl.split("/").pop().split("?")[0];
            embedUrl = `https://player.vimeo.com/video/${videoId}?autoplay=1&loop=1&title=0&byline=0&portrait=0`;
          } else if (!videoUrl.includes("autoplay=1")) {
            embedUrl +=
              (videoUrl.includes("?") ? "&" : "?") + "autoplay=1&loop=1";
          }

          iframe.src = embedUrl;
          iframe.setAttribute("frameborder", "0");
          iframe.setAttribute(
            "allow",
            "autoplay; fullscreen; picture-in-picture"
          );
          iframe.setAttribute("allowfullscreen", "");
          iframe.style.width = "100%";
          iframe.style.height = "100%";
          iframe.style.border = "none";

          iframe.onload = function () {
            setTimeout(() => {
              const dataAspectRatio =
                container.getAttribute("data-aspect-ratio");
              let orientation = "landscape";
              if (dataAspectRatio === "portrait") {
                orientation = "portrait";
              } else if (dataAspectRatio === "square") {
                orientation = "square";
              }
              applyResponsiveLayout(
                container,
                orientation,
                iframe,
                originalHeight
              );
            }, 500);
          };

          setupVideoContainer(container, iframe);
        }

        function handleDirectVideo(container, videoUrl, originalHeight) {
          const video = document.createElement("video");
          video.src = videoUrl;
          video.controls = true;
          video.autoplay = true;
          video.loop = true;
          video.style.width = "100%";
          video.style.height = "100%";

          video.addEventListener("loadedmetadata", function () {
            const aspectRatio = this.videoWidth / this.videoHeight;
            let orientation;

            if (aspectRatio > 1.2) {
              orientation = "landscape";
            } else if (aspectRatio < 0.8) {
              orientation = "portrait";
            } else {
              orientation = "square";
            }

            applyResponsiveLayout(
              container,
              orientation,
              this,
              originalHeight,
              aspectRatio
            );
          });

          video.addEventListener("error", function () {
            console.error("Video failed to load:", videoUrl);
          });

          setupVideoContainer(container, video);
        }

        function setupVideoContainer(container, videoElement) {
          container.classList.remove("loading");
          container.classList.add("playing");
          container.innerHTML = "";
          container.appendChild(videoElement);
        }

        function applyResponsiveLayout(
          container,
          orientation,
          videoElement,
          originalHeight,
          aspectRatio = null
        ) {
          const project = container.closest(".project");

          container.classList.remove(
            "portrait-mode",
            "landscape-mode",
            "square-mode"
          );
          project.classList.remove(
            "portrait-layout",
            "landscape-layout",
            "square-layout"
          );

          if (orientation === "portrait") {
            container.classList.add("portrait-mode");
            project.classList.add("portrait-layout");

            const maxWidth = 400;
            const calculatedHeight = aspectRatio
              ? maxWidth / aspectRatio
              : maxWidth * 1.77;

            container.style.height = `${Math.min(
              calculatedHeight,
              window.innerHeight * 0.8
            )}px`;
            container.style.maxWidth = `${maxWidth}px`;
            container.style.margin = "0 auto";

            videoElement.style.objectFit = "contain";
            videoElement.style.width = "100%";
            videoElement.style.height = "100%";
          } else if (orientation === "square") {
            container.classList.add("square-mode");
            project.classList.add("square-layout");

            const squareSize = Math.min(container.offsetWidth, 400);
            container.style.height = `${squareSize}px`;
            container.style.width = `${squareSize}px`;
            container.style.margin = "0 auto";

            videoElement.style.objectFit = "cover";
          } else {
            container.classList.add("landscape-mode");
            project.classList.add("landscape-layout");

            const containerWidth = container.offsetWidth;
            let calculatedHeight;

            if (aspectRatio) {
              calculatedHeight = containerWidth / aspectRatio;
            } else {
              calculatedHeight = containerWidth * (9 / 16);
            }

            calculatedHeight = Math.min(calculatedHeight, 500);
            calculatedHeight = Math.max(calculatedHeight, 250);

            container.style.height = `${calculatedHeight}px`;
            container.style.maxWidth = "100%";
            container.style.margin = "0";

            project.style.maxWidth = "none";
            project.style.justifySelf = "stretch";
          }

          container.style.transition = "all 0.5s ease";
          project.style.transition = "all 0.5s ease";
        }

        let resizeTimeout;
        window.addEventListener("resize", function () {
          clearTimeout(resizeTimeout);
          resizeTimeout = setTimeout(function () {
            const playingVideos = document.querySelectorAll(
              ".project-video.playing"
            );
            playingVideos.forEach((container) => {
              const orientation = container.classList.contains("portrait-mode")
                ? "portrait"
                : "landscape";
              const videoElement = container.querySelector("video, iframe");
              if (videoElement) {
                const originalHeight = 250;
                applyResponsiveLayout(
                  container,
                  orientation,
                  videoElement,
                  originalHeight
                );
              }
            });
          }, 250);
        });
      });
    </script>
  </body>
</html>
